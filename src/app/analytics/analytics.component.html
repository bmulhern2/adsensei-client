<app-header></app-header>
<mat-card>
    <mat-card-title>
        <h1>Admin</h1>
    </mat-card-title>
    <mat-card-content>
        <div fxLayout="row" fxLayoutAlgin="space-between">
            <div id="row1"> 
            <div id="box">
                <h2>Requests Made</h2>
                <div id="count">
                    <h2>{{ count }}</h2>
                </div>
            </div>
            <div id="box">
                <h2>Monies Spent</h2>
                <div id="count">
                    <h2>${{ count * 0.01 }}</h2>
                </div>
            </div>
        </div>
        </div>
            <div id="box">
                <h2>API Key</h2>
                <div id="count">
                    <textarea value="{{ value }}"></textarea>
                </div>
                <button (click)="copy()">Copy API Key</button>
            </div>
    </mat-card-content>
    <mat-card-content>
        <h1 class="text-center">Requests</h1>
        <table matSort (matSortChange)="sortData($event)">
            <tr>
                <th mat-sort-header="_id">Id</th>
                <th mat-sort-header="path">Path</th>
                <th mat-sort-header="method">Method</th>
                <th mat-sort-header="date">Date</th>
            </tr>
            <tr *ngFor="let request of requests">
                <td>{{ request._id }}</td>
                <td>{{ request.path }}</td>
                <td>{{ request.method }}</td>
                <td>{{ request.date }}</td>
            </tr>
        </table>
        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
    </mat-card-content>
</mat-card>